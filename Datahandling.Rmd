---
title: "Multiyear RECS data handling"
author: "James Woods"
date: "07/16/2015"
output: html_document
---

```{r}
All2009 <- read.csv("2009/recs2009_public.csv")

All2005 <- read.csv("2005/RECS05alldata.csv")

```
Those two are simple but the 2001 data comes in many parts

```{r}
publicuse102001<-read.csv("2001/publicuse102001.csv", header=TRUE)  
publicuse2001<-read.csv("2001/publicuse2001.csv", header=TRUE)   
publicuse42001<-read.csv("2001/publicuse42001.csv", header=TRUE)  
publicuse72001<-read.csv("2001/publicuse72001.csv", header=TRUE)
publicuse112001<-read.csv("2001/publicuse112001.csv", header=TRUE)  
publicuse22001<-read.csv("2001/publicuse22001.csv", header=TRUE)  
publicuse52001<-read.csv("2001/publicuse52001.csv", header=TRUE)  
publicuse82001<-read.csv("2001/publicuse82001.csv", header=TRUE)
publicuse122001<-read.csv("2001/publicuse122001.csv", header=TRUE) 
publicuse32001<-read.csv("2001/publicuse32001.csv", header=TRUE)
publicuse62001<-read.csv("2001/publicuse62001.csv", header=TRUE)  
publicuse92001<-read.csv("2001/publicuse92001.csv", header=TRUE)

#DOEID is the merge key
library(reshape)
All2001<-merge_recurse(list(publicuse102001,publicuse112001,publicuse122001,publicuse2001,publicuse22001,publicuse32001,publicuse42001,publicuse52001,publicuse62001,publicuse72001,publicuse82001,publicuse92001))

library(stringr)
#Clean up name space
rm(list=c('publicuse102001','publicuse112001','publicuse122001','publicuse2001','publicuse22001','publicuse32001','publicuse42001','publicuse52001','publicuse62001','publicuse72001','publicuse82001','publicuse92001'))

source("RECSHelper.R")

```

# RECS 2009

Here is a list of the variables I would like from the 2009 RECS.  Include the imputation flag field, they start with a Z for all these variables.  For example, ZYEARMADE is for when they have to impute the variable YEARMADE.

There are some R models in RecodeScratch.R

Formatting ugly to keep the list easy to use.

This is just some example code.  Now commented out.
```{r}
# summary(All2009$DOEID)
# 
# All2009$DOEID<-as.factor(All2009$DOEID)  
# 
# library(plyr)
# #Region
# summary(All2009$REGIONC)
# table(All2009$REGIONC)
# 
# All2009$REGIONC<-revalue(as.factor(All2009$REGIONC),c("1"="NE", "2"="MidWest","3"="South","4"="West"))
# 
# #All2009$REGIONC[1:20]
# All2009[1:2,1:10]
# 
# 
# #Bedrooms
# summary(All2009$BEDROOMS)
# All2009$BEDROOMS[All2009$BEDROOMS==-2]<-NA
# All2009$BEDROOMS[All2009$BEDROOMS==-2]

```


DOEID
REGIONC
DIVISION
REPORTABLE_DOMAIN
TYPEHUQ
NWEIGHT
HDD65
CDD65
Climate_Region_Pub
AIA_Zone
METROMICRO
UR
KOWNRENT
CONDCOOP
YEARMADE
YEARMADERANGE
OCCUPYYRANGE
CONVERSION
ORIG1FAM
LOOKLIKE
NUMFLRS
NUMAPTS
NAPTFLRS
STORIES
TYPEHUQ4
BEDROOMS
NCOMBATH
NHAFBATH
OTHROOMS
TOTROOMS
STOVEN
STOVENFUEL
STOVE
STOVEFUEL
OVEN
OVENFUEL
OVENUSE
MICRO
AMTMICRO
OUTGRILL
OUTGRILLFUEL
TOASTER
NUMMEAL
FUELFOOD
NUMFRIG
TYPERFR1
SIZRFRI1
REFRIGT1
ICE
AGERFRI1
ESFRIG
REPLCFRI
TYPERFR2
SIZRFRI2
MONRFRI2
AGERFRI2
SEPFREEZ
NUMFREEZ
UPRTFRZR
SIZFREEZ
REPLCFRZ
UPRTFRZR2
SIZFREEZ2
AGEFRZR2
DISHWASH
DWASHUSE
AGEDW
ESDISHW
REPLCDW
CWASHER
TOPFRONT
WASHLOAD
WASHTEMP
RNSETEMP
AGECWASH
ESCWASH
DRYER
DRYRFUEL
DRYRUSE
AGECDRYER
TVCOLOR
TVSIZE1
TVTYPE1
CABLESAT1
COMBODVR1
DVR1
DIGITSTB1
PLAYSTA1
COMBOVCRDVD1
VCR1
DVD1
TVAUDIOSYS1
OTHERSTB1
TVONWD1
TVONWDWATCH1
TVONWE1
TVONWEWATCH1
TVSIZE2
TVTYPE2
CABLESAT2
COMBODVR2
DVR2
DIGITSTB2
PLAYSTA2
COMBOVCRDVD2
VCR2
DVD2
TVAUDIOSYS2
OTHERSTB2
TVONWD2
TVONWDWATCH2
TVONWE2
TVONWEWATCH2
COMPUTER
NUMPC
PCTYPE1
MONITOR1
TIMEON1
PCONOFF1
PCSLEEP1
PCTYPE2
MONITOR2
TIMEON2
PCONOFF2
PCSLEEP2
INTERNET
INDIALUP
INDSL
INCABLE
INSATEL
INWIRELESS
WELLPUMP
DIPSTICK
SWAMPCOL
AQUARIUM
BATTOOLS
BATCHRG
CHRGPLGT
ELECDEV
ELECCHRG
CHRGPLGE
HEATHOME
DNTHEAT
EQUIPNOHEAT
FUELNOHEAT
EQUIPM
FUELHEAT
EQUIPAGE
REPLCHT
HEATOTH
EQUIPAUX
REVERSE
WARMAIR
FURNFUEL
STEAMR
RADFUEL
PERMELEC
PIPELESS
PIPEFUEL
ROOMHEAT
RMHTFUEL
WOODKILN
HSFUEL
CARRYEL
CARRYKER
CHIMNEY
FPFUEL
RANGE
RNGFUEL
DIFEQUIP
DIFFUEL
EQMAMT
HEATROOM
THERMAIN
NUMTHERM
PROTHERM
AUTOHEATNITE
AUTOHEATDAY
TEMPHOME
TEMPGONE
TEMPNITE
MOISTURE
USEMOISTURE
NUMH2ONOTNK
NUMH2OHTRS
H2OTYPE1
FUELH2O
WHEATOTH
WHEATSIZ
WHEATAGE
WHEATBKT
H2OTYPE2
FUELH2O2
WHEATSIZ2
WHEATAGE2
AIRCOND
DNTAC
COOLTYPENOAC
COOLTYPE
DUCTS
CENACHP
ACOTHERS
AGECENAC
REPLCCAC
ACROOMS
USECENAC
THERMAINAC
PROTHERMAC
AUTOCOOLNITE
AUTOCOOLDAY
TEMPHOMEAC
TEMPGONEAC
TEMPNITEAC
NUMBERAC
WWACAGE
ESWWAC
REPLCWWAC
USEWWAC
NUMCFAN
USECFAN
TREESHAD
NOTMOIST
USENOTMOIST
SWIMPOOL
POOL
FUELPOOL
RECBATH
FUELTUB
LGT12
LGT12EE
LGT4
LGT4EE
LGT1
LGT1EE
NOUTLGTNT
LGTOEE
NGASLIGHT
INSTLCFL
SLDDRS
DOOR1SUM
WINDOWS
TYPEGLASS
NEWGLASS
ADQINSUL
INSTLINS
AGEINS
DRAFTY
INSTLWS
AGEWS
AUDIT
AGEAUD
USEEL
USENG
USELP
USEFO
USEKERO
USEWOOD
USESOLAR
USEOTH
ELWARM
ELECAUX
ELCOOL
ELWATER
ELFOOD
ELOTHER
UGWARM
UGASAUX
UGWATER
UGCOOK
UGOTH
LPWARM
LPGAUX
LPWATER
LPCOOK
LPOTHER
FOWARM
FOILAUX
FOWATER
FOOTHER
KRWARM
KEROAUX
KRWATER
KROTHER
WDWARM
WOODAUX
WDWATER
WDOTHUSE
SOLWARM
SOLARAUX
SOLWATER
SOLOTHER
OTHWARM
OTHERAUX
OTHWATER
OTHCOOK
ONSITE
ONSITEGRID
PELHEAT
PELHOTWA
PELCOOK
PELAC
PELLIGHT
OTHERWAYEL
PGASHEAT
PGASHTWA
PUGCOOK
PUGOTH
OTHERWAYNG
FOPAY
OTHERWAYFO
LPGPAY
OTHERWAYLPG
LPGDELV
KERODEL
KEROCASH
NOCRCASH
NKRGALNC
WOODLOGS
WDSCRAP
WDPELLET
WDOTHER
WOODAMT
NUMCORDS
KFUELOT
HHSEX
EMPLOYHH
SPOUSE
SDESCENT
Householder_Race
EDUCATION
NHSLDMEM
HHAGE
AGEHHMEMCAT2
AGEHHMEMCAT3
AGEHHMEMCAT4
AGEHHMEMCAT5
AGEHHMEMCAT6
AGEHHMEMCAT7
AGEHHMEMCAT8
AGEHHMEMCAT9
AGEHHMEMCAT10
AGEHHMEMCAT11
AGEHHMEMCAT12
AGEHHMEMCAT13
AGEHHMEMCAT14
HBUSNESS
ATHOME
TELLWORK
TELLDAYS
OTHWORK
WORKPAY
MONEYPY
POVERTY100
POVERTY150
HUPROJ
RENTHELP
TOTSQFT
TOTSQFT_EN
TOTHSQFT
TOTUSQFT
TOTCSQFT
TOTUCSQFT
KWH
KWHSPH
KWHCOL
KWHWTH
KWHRFG
KWHOTH 
BTUEL
BTUELSPH
BTUELCOL
BTUELWTH
BTUELRFG
BTUELOTH
DOLLAREL
DOLELSPH
DOLELCOL
DOLELWTH
DOLELRFG
DOLELOTH
CUFEETNG
CUFEETNGSPH
CUFEETNGWTH
CUFEETNGOTH
BTUNG
BTUNGSPH
BTUNGWTH
BTUNGOTH
DOLLARNG
DOLNGSPH
DOLNGWTH
DOLNGOTH
GALLONLP
GALLONLPSPH
GALLONLPWTH
GALLONLPOTH
BTULP
BTULPSPH
BTULPWTH
BTULPOTH
DOLLARLP
DOLLPSPH
DOLLPWTH
DOLLPOTH
GALLONFO
GALLONFOSPH
GALLONFOWTH
GALLONFOOTH
BTUFO
BTUFOSPH
BTUFOWTH
BTUFOOTH
DOLLARFO
DOLFOSPH
DOLFOWTH
DOLFOOTH
GALLONKER
GALLONKERSPH
GALLONKERWTH
GALLONKEROTH
BTUKER
BTUKERSPH
BTUKERWTH
BTUKEROTH
DOLLARKER
DOLKERSPH
DOLKERWTH
DOLKEROTH
BTUWOOD
CORDSWD
TOTALBTU
TOTALBTUSPH
TOTALBTUCOL
TOTALBTUWTH
TOTALBTURFG
TOTALBTUOTH
TOTALDOL
TOTALDOLSPH
TOTALDOLCOL
TOTALDOLWTH
TOTALDOLRFG
TOTALDOLOTH


Putting them all in one place so I can deal with them algorymically. 
```{r}


# Names2009 just contains the 2009 variable names we want
Cols2009<-read.table("Names2009.csv")
Cols2009$Status<-"Uncoded"

```


<<<<<<< HEAD
'''{r}

All2009$DOEID<-as.factor(All2009$DOEID)

'''

=======
```{r}

All2009$DOEID<-as.factor(All2009$DOEID)
MarkCoded("UR")
>>>>>>> 5a0bd0a5e7af60f891e4ae6ae58b9fac1cf9de2a

#Region 



table(All2009$REGIONC)

All2009$REGIONC<-revalue(as.factor(All2009$REGIONC),c("1"="NE","2"="Midwest","3"="South","4"="West"))

summary(All2009$REGIONC)
MarkCoded("REGIONC")


#Division

table(All2009$DIVISION)

All2009$DIVISION<-revalue(as.factor(All2009$DIVISION),c("1"="NewEnglandD","2"="MidAtlantic","3"="EastNorthCent","4"="WestNorthCent","5"="SouthAtlantic","6"="EastSouthCent","7"="WestSountCent","8"="MountNorthSub","9","MountSouthSub","10"="Pacific"))

MarkCoded("DIVISION")


#Reportable_Domain

table(All2009$REPORTABLE_DOMAIN)

All2009$REPORTABLE_DOMAIN<-revalue(as.factor(All2009$REPORTABLE_DOMAIN),c("1"="CT.ME.NH.RI.VT","2"="MA","3"="NY","4"="NJ","5"="PA","6"="IL","7"="IN.OH","8"="MI","9"="WI","10"="IA.MN.ND.SD","11"="KS.NE","12"="MO","13"="VA","14"="DE.DC.MA.WV","15"="GA","16"="NC.SC","17"="FL","18"="AL.KY.MS","19"="TN","20"="AR.LA.OK","21"="TX","22"="CO","23"="ID.MT.UT.WY","24"="AZ","25"="NV.NM","26"="CA","27"="AK.HI.OR.WA"))

MarkCoded("REPORTABLE_DOMAIN")

# TYPEHUQ

All2009$TYPEHUQ<-recode(All2009$TYPEHUQ,c("1"="Mobile","2"="SingleDetach","3"="SingleAttach","4"="Apartment2-4Units","5"="Apartment5PlusUnits"))

summary(All2009$TYPEHUQ)

MarkCoded("TYPEHUQ")

#NWEIGHT (No NA values present)

summary(All2009$NWEIGHT)

summary(is.na(All2009$NWEIGHT))

MarkCoded("NWEIGHT")


#HDD65 (NO NA values present)

summary(All2009$HDD65)

summary(is.na(All2009$HDD65))

MarkCoded("HDD65")

#CDD65 (No NA values present)

summary(All2009$CDD65)

summary(is.na(All2009$CDD65))

MarkCoded("CDD65")

#Climate_Region_Pub


All2009$Climate_Region_Pub<-recode(All2009$Climate_Region_Pub,c("1"=" VeryCold/Cold","2"="HotDry/MixedDry","3"="HotHumid","4"="MixedHumid","5"="Marine"))

summary(All2009$Climate_Region_Pub)



#AIA_ZONE issue with revalue producing results

All2009$AIA_ZONE<-recode(All2009$AIA_Zone,c("1"="LT2000CDDGT7000HDD","2"="LT2000CDDAnd5500-7000HDD","3"="LT2000CDDAnd4000-5499HDD","4"="LT2000CDDLT4000DD","5"="GT2000CDDLT4000HDD"))

summary(All2009$AIA_ZONE)

#METROMICRO (No NA values)

summary(is.na(All2009$METROMICRO))

MarkCoded("METROMICRO")

#UR

All2009$UR<-recode(All2009$UR,c("U"="Urban","R"="Residential"))

summary(All2009$UR)

#KOWNRENT

All2009$KOWNRENT<-recode(All2009$KOWNRENT,
                          c("1"="Ownded","2"="Rented","3"="Occupied"))

summary(All2009$KOWNRENT)

#CONDCOOP  


All2009$CONDCOOP<-recode(All2009$CONDCOOP,
                          c("1"="Condo","2"="Cooperative","-2"=NA))

summary(All2009$CONDCOOP)
```



summary(All2009$CONDCOOP)

#YEARMADE - Numeric years seem applicable, advise if change needed

#YEARMADERANGE

All2009$YEARMADERANGE<-revalue(as.factor(All2009$YEARMADERANGE),c("1"="PRE1950","2"="1950-59","3"="1960-69","4"="1970-79","5"="1980-89","6"="1990-99","7"="2000-04","8"="2005-09"))

summary(All2009$YEARMADERANGE)

#OCCUPYRANGE

All2009$OCCUPYYRANGE<-revalue(as.factor(All2009$OCCUPYYRANGE),c("1"="PRE1950","2"="1950-59","3"="1960-69","4"="1970-79","5"="1980-89","6"="1990-99","7"="2000-04","8"="2005-09"))

summary(All2009$OCCUPYYRANGE)

#Conversion

All2009$CONVERSION[All2009$CONVERSION==-2]<-NA


All2009$CONVERSION<-revalue(as.factor(All2009$CONVERSION),c("1"="BuiltAsApart","2"="ConverToApart"))


summary(All2009$CONVERSION)

#ORIG1FAM

All2009$ORIG1FAM[All2009$ORIG1FAM==-2]<-NA

All2009$ORIG1FAM<-revalue(as.factor(All2009$ORIG1FAM),c("1"="YES","0"="NO"))

summary(All2009$ORIG1FAM)

#LOOKLIKE

All2009$LOOKLIKE[All2009$LOOKLIKE==-2]<-NA

All2009$LOOKLIKE<-revalue(as.factor(All2009$LOOKLIKE),c("1"="MoreLikeHouse","2"="MoreLikeApart"))

summary(All2009$LOOKLIKE)

#NUMFLRS

All2009$NUMFLRS[All2009$NUMFLRS==-2] <- NA

All2009$NUMFLRS<-revalue(as.factor(All2009$NUMFLRS),c("1"="1Floor","2"="2Floors","3"="3Floors","4"="4Floors","5"="5Floors","6"="6Floors","7"="7Floors","8"="8Floors","9"="9Floors","10"="10Floor","11"="11Floors","12"="12Floors","13"="13Floors","14"="14Floors","15"="15Floors","20"="20Floors","21"="21Floors","35"="35Floors"))


summary(All2009$NUMFLRS)

#NUMAPTS

table(All2009$NUMAPTS)

All2009$NUMAPTS[All2009$NUMAPTS==-2]<-NA

#NUMAPTS  Every value is accounted for in the table however when I look at the
#summary there is 9 values labled as 'other'.  I went throught the entire 
#column and could not find any such values that do not match the code or table.
#NOTE: The NA values match the '-2' values

All2009$NUMAPTS<-revalue(as.factor(All2009$NUMAPTS),c("5"="5units","6"="6units","7"="7units","8"="8units","9"="9units","10"="10units","11"="11units","12"="12units","13"="13units","14"="14units","15"="15units","16"="16units","17"="17units","18"="18units","19"="19units","20"="20units","21"="21units","22"="22units","23"="23units","24"="24units","25"="25units","26"="26units","27"="27units","28"="28units","30"="30units","31"="31units","32"="32units","33"="33units","34"="34units","35"="35units","36"="36units","37"="37units","39"="39units","40"="40units","41"="41units","42"="42units","43"="43units","44"="44units","45"="45units","46"="46units","47"="47units","48"="48units","49"="49units","50"="50units","51"="51units","52"="52units","53"="53units","54"="54units","55"="55units","56"="56units","57"="57units","58"="58units","59"="59units","60"="60units","63"="63units","64"="64units","65"="65units","66"="66units","68"="68units","70"="70units","72"="72units","75"="75units","76"="76units","80"="80units","81"="81units","84"="84units","86"="86units","88"="88units","90"="90units","95"="95units","96"="96units","99"="99units","100"="100units","102"="102units","105"="105units","108"="108units","110"="110units","112"="112units","115"="115units","116"="116units","118"="118units","120"="120units","123"="123units","125"="125units","126"="126units","130"="130units","133"="133units","135"="135units","140"="140units","141"="141units","145"="145units","150"="150units","155"="155units","160"="160units","168"="168units","170"="170units","175"="175units","178"="178units","180"="180units","187"="187units","192"="192units","199"="199units","200"="200units","313"="313units","316"="316units","322"="322units","365"="365units"))

summary(All2009$NUMAPTS)

#WALLTYPE

All2009$WALLTYPE<-revalue(as.factor(All2009$WALLTYPE),c("1"="Brick","2"="Wood","3"="Siding","4"="Stucco","5"="Composition","6"="Stone","7"="Concrete","8"="Glass","9"="Other"))

summary(All2009$WALLTYPE)

#ROOFTYPE

All2009$ROOFTYPE[All2009$ROOFTYPE==-2]<-NA

All2009$ROOFTYPE<-revalue(as.factor(All2009$ROOFTYPE),c("1"="Ceramic.Clay","2"="WoodShingles.Shakes","3"="Metal","4"="Slate.SyntheticSlate","5"="CompositionShingles","6"="Asphalt","7"="ConcreteTiles","8"="Other"))

summary(All2009$ROOFTYPE)

#STUDIO

All2009$STUDIO[All2009$STUDIO==-2]<-NA

All2009$STUDIO<-revalue(as.factor(All2009$STUDIO),c("0"="NO","1"="YES"))

summary(All2009$STUDIO)

#NAPTFLRS

table(All2009$NAPTFLRS)

All2009$NAPTFLRS[All2009$NAPTFLRS==-2]<-NA

All2009$NAPTFLRS<-revalue(as.factor(All2009$NAPTFLRS),c("1"="1Floor","2"="2Floors","3"="3Floors"))

summary(All2009$NAPTFLRS)

#STORIES

summary(is.na(All2009$STORIES))

All2009$STORIES[All2009$STORIES==-2]<- NA

All2009$STORIES<-revalue(as.factor(All2009$STORIES),c("10"="OneStory","20"="TwoStories","31"="ThreeStories","32"="FourPlusStories","40"="SplitLevel","50"="OtherType"))

summary(All2009$STORIES)

#TYPEHUQ$ (addition to mobile home)

summary(is.na(All2009$TYPEHUQ4))

All2009$TYPEHUQ4[All2009$TYPEHUQ4==-2]<-NA

All2009$TYPEHUQ4<-revalue(as.factor(All2009$TYPEHUQ4),c("0"="NO","1"="YES"))

#BEDROOMS

table(All2009$BEDROOMS)

All2009$BEDROOMS[All2009$BEDROOMS==-2]<-NA

All2009$BEDROOMS<-revalue(as.factor(All2009$BEDROOMS),c("0"="NoBedrooms","1"="OneBedroom","2"="TwoBedrooms","3"="ThreeBedrooms","4"="FourBedrooms","5"="FiveBedrooms","6"="SixBedrooms","7"="SevenBedrooms","8"="EightBedrooms","9"="NineBedrooms","13"="ThirteenBedrooms"))

summary(All2009$BEDROOMS)

#NCOMBATH

table(All2009$NCOMBATH)

All2009$NCOMBATH[All2009$NCOMBATH==-2]<-NA

All2009$NCOMBATH<-revalue(as.factor(All2009$NCOMBATH),c("0"="NoFullBath","1"="OneFullBath","2"="TwoFullBath","3"="ThreeFullBath","4"="FourFullBath","5"="FiveFullBath","6"="SixFullBath","7"="SevenFullBath","8"="EightFullBath"))

summary(All2009$NCOMBATH)
#NHAFBATH

table(All2009$NHAFBATH)

All2009$NHAFBATH<-revalue(as.factor(All2009$NHAFBATH),c("0"="NoHalfBath","1"="OneHalfBath","2"="TwoHalfBath","3"="ThreeHalfBath","9"="NineHalfBath"))

summary(All2009$NHAFBATH)

#OTHROOMS

table(All2009$OTHROOMS)

All2009$OTHROOMS<-revalue(as.factor(All2009$OTHROOMS),c("1"="OneOtherRoom","2"="TwoOtherRooms","3"="ThreeOtherRooms","4"="FourOtherRooms","5"="FiveOtherRooms","6"="SixOtherRooms","7"="SevenOtherRooms","8"="EightOtherRooms","9"="NineOtherRomms","10"="TenOtherRooms","11"="ElevenOtherRooms","12"="TwelveOtherRooms","13"="ThriteenOtherRooms","14"="FourteenOtherRooms","17"="SeventeenOtherRooms"))

summary(All2009$OTHROOMS)

#TOTROOMS

table(All2009$TOTROOMS)
                         
All2009$TOTROOMS<-revalue(as.factor(All2009$TOTROOMS),c("1"="OneRoom","2"="TwoRooms","3"="ThreeRooms","4"="FourRooms","5"="FiveRooms","6"="SixRooms","7"="SevenRooms","8"="EightRooms","9"="NineRooms","10"="TenRooms","11"="ElevenRooms","12"="TwelveRooms","13"="ThirteenRooms","14"="FourteenRooms","15"="FifteenRooms","16"="SixteenRooms","18"="EighteenRooms","19"="NineteenRooms","21"="TwentyOneRooms","23"="TwentyThreeRooms"))

summary(All2009$TOTROOMS)

#STOVEN (Number of Stoves with oven)

table(All2009$STOVEN)

All2009$STOVEN<-revalue(as.factor(All2009$STOVEN),c("0"="NoStove","1"="1Stove","2"="TwoStoves","3"="ThreeStoves"))

summary(All2009$STOVEN)

#STOVENFUEL (Fuel used by most frequently used stove)

All2009$STOVENFUEL[All2009$STOVENFUEL==-2]<-NA

All2009$STOVENFUEL<-revalue(as.factor(All2009$STOVENFUEL),c("1"="NaturalGas","2"="Propane/LPG","5"="Electricity","21"="OtherFuel"))

summary(All2009$STOVENFUEL)

#STOVE Number of sepeate cooktops

table(All2009$STOVE)

All2009$STOVE<-revalue(as.factor(All2009$STOVE),c("0"="ZeroCookTops","1"="OneCookTop","2"="TwoCookTops"))

summary(All2009$STOVE)

#STOVEFUEL

All2009$STOVEFUEL[All2009$STOVEFUEL==-2]<-NA

All2009$STOVEFUEL<-revalue(as.factor(All2009$STOVEFUEL),c("1"="NaturalGas","2"="Propane/LPG","5"="Electricity","21"="OtherFuel"))

summary(All2009$STOVEFUEL)

#OVEN

table(All2009$OVEN)

All2009$OVEN<-revalue(as.factor(All2009$OVEN),c("0"="NoOven","1"="OneOven","2"="TwoOvens","3"="ThreeOvens"))

summary(All2009$OVEN)

#OVENFUEL 

All2009$OVENFUEL[All2009$OVENFUEL==-2]<-NA

All2009$OVENFUEL<-revalue(as.factor(All2009$OVENFUEL),c("1"="NaturalGas","2"="Propane/LPG","5"="Electricity","21"="OtherFuel"))

summary(All2009$OVENFUEL)

#OVENUSE

All2009$OVENUSE[All2009$OVENUSE==-2]<-NA

All2009$OVENUSE<-revalue(as.factor(All2009$OVENUSE),c("0"="NotUsed","1"="3Plus/Day","2"="Two/Day","3"="Once/Day","4"="Few/Week","5"="Once/Week","6"="LessThanOnce/Week"))

summary(All2009$OVENUSE)

#MICRO (Microwave Used)

All2009$MICRO<-revalue(as.factor(All2009$MICRO),c("0"="NO","1"="YES"))

summary(All2009$MICRO)

#AMTMICRO

All2009$AMTMICRO[All2009$AMTMICRO==-2]<-NA

All2009$AMTMICRO<-revalue(as.factor(All2009$AMTMICRO),c("1"="Cook/ReheatMostMeals","2"="Cook/ReheasHalfMeals","3"="Cook/ReheatFewMeals","4"="UsedVeryLittle"))

summary(All2009$AMTMICRO)


#OUTGRILL

All2009$OUTGRILL<-revalue(as.factor(All2009$OUTGRILL),c("0"="NO","1"="YES"))

summary(All2009$OUTGRILL)

#OUTGRILLFUEL

All2009$OUTGRILLFUEL[All2009$OUTGRILLFUEL==-2]<-NA

All2009$OUTGRILLFUEL<-revalue(as.factor(All2009$OUTGRILLFUEL),c("1"="NaturalGas","2"="Propane/LPG","21"="OtherFuel"))

summary(All2009$OUTGRILLFUEL)

#TOASTER

All2009$TOASTER<-revalue(as.factor(All2009$TOASTER),c("0"="NO","1"="YES"))

summary(All2009$TOASTER)

#NUMMEAL

All2009$NUMMEAL<-revalue(as.factor(All2009$NUMMEAL),c("0"="NeverCooks","1"="ThreePlusTimes/Day","2"="TwoTimes/Day","3"="Once/Day","4"="FewTimes/Week","5"="Once/Week","6"="LessThanOnce/Week"))

summary(All2009$NUMMEAL)

#FUELFOOD

All2009$FUELFOOD[All2009$FUELFOOD==-2]<-NA

All2009$FUELFOOD<-revalue(as.factor(All2009$FUELFOOD),c("1"="NaturalGas","2"="Propane/LPG","5"="Electricity","21"="OtherFuel"))

summary(All2009$FUELFOOD)

#NUMFRIG

table(All2009$NUMFRIG)

All2009$NUMFRIG<-revalue(as.factor(All2009$NUMFRIG),c("0"="NoFridege","1"="OneFridge","2"="TwoFridge","3"="ThreeFridge","4"="FourFidge","5"="FiveFridge","6"="SixFridge","7"="SevenFridge"))

summary(All2009$NUMFRIG)

#TYPERFR1

All2009$TYPERFR1[All2009$TYPERFR1==-2]<-NA

All2009$TYPERFR1<-revalue(as.factor(All2009$TYPERFR1),c("1"="Fullsize/OneDoor","3"="Halfsize/Compact","4"="Otherkind","5"="Fullsize/ThreePlusDoors","21"="FullsizeTwoDoors/FreezerNext","22"="FullsizeTwoDoors/FreezerAbove","23"="FullsizeTwodoors/Freezerbelow"))

summary(All2009$TYPERFR1)

#SIZRFRI1

All2009$SIZRFRI1[All2009$SIZRFRI1==-2]<-NA

All2009$SIZRFRI1<-revalue(as.factor(All2009$SIZRFRI1),c("1"="Halfsize/Compact","2"="Small","3"="Medium","4"="Large","5"="VeryLarge"))

summary(All2009$SIZRFRI1)

#REFRIFT1 (Defrosting Type of most commonly used fridge)

All2009$REFRIGT1[All2009$REFRIGT1==-2]<-NA

All2009$REFRIGT1<-revalue(as.factor(All2009$REFRIGT1),c("1"="Manual","2"="FrostFree","3"="NoWorkingFreezer"))

summary(All2009$REFRIGT1)

#ICE (Throught the door ice/water, most common fridge)

All2009$ICE[All2009$ICE==-2]<-NA

All2009$ICE<-revalue(as.factor(All2009$ICE),c("0"="NO","1"="YES"))

summary(All2009$ICE)

#AGERFRI1

All2009$AGERFRI1[All2009$AGERFRI1==-2]<-NA

All2009$AGERFRI1<-revalue(as.factor(All2009$AGERFRI1),c("1"="<TwoYears","2"="2-4Years","3"="5-9Years","41"="10-14Years","42"="15-19Years","5"=">20Years"))

summary(All2009$AGERFRI1)

#ESFRIG

All2009$ESFRIG[All2009$ESFRIG==-2]<-NA
All2009$ESFRIG[All2009$ESFRIG==-8]<-NA
All2009$ESFRIG[All2009$ESFRIG==-9]<-NA

All2009$ESFRIG<-revalue(as.factor(All2009$ESFRIG),c("0"="NO","1"="YES"))

summary(All2009$ESFRIG)

#REPLCFRI

All2009$REPLCFRI[All2009$REPLCFRI==-2]<-NA
All2009$REPLCFRI[All2009$REPLCFRI==-8]<-NA
All2009$REPLCFRI[All2009$REPLCFRI==-9]<-NA

All2009$REPLCFRI<-revalue(as.factor(All2009$REPLCFRI),c("0"="NO","1"="YES"))

summary(All2009$REPLCFRI)

#TYPERFR2

All2009$TYPERFR2[All2009$TYPERFR2==-2]<-NA

All2009$TYPERFR2<-revalue(as.factor(All2009$TYPERFR2),c("1"="Fullsize/OneDoor","3"="Halfsize/Compact","4"="Otherkind","5"="Fullsize/ThreePlusDoors","21"="FullsizeTwoDoors/FreezerNext","22"="FullsizeTwoDoors/FreezerAbove","23"="FullsizeTwodoors/Freezerbelow"))

summary(All2009$TYPERFR2)

#SIZRFRI2

All2009$SIZRFRI2[All2009$SIZRFRI2==-2]<-NA

All2009$SIZRFRI2<-revalue(as.factor(All2009$SIZRFRI2),c("1"="Halfsize/Compact","2"="Small","3"="Medium","4"="Large","5"="VeryLarge"))

summary(All2009$SIZRFRI2)

#MONRFRI2

table(All2009$MONRFRI2)

All2009$MONRFRI2[All2009$MONRFRI2==-2]<-NA

All2009$MONRFRI2<-revalue(as.factor(All2009$MONRFRI2),c("0"="NotUsed","1"="OneMonth","2"="TwoMonths","3"="ThreeMonths","4"="FourMonths","5"="FiveMonths","6"="SixMonths","7"="SevenMonths","8"="EightMonths","9"="NineMonths","10"="TenMonths","11"="ElevenMonths","12"="TwelveMonths"))

summary(All2009$MONRFRI2)

#AGERFRI2

All2009$AGERFRI2[All2009$AGERFRI2==-2]<-NA

All2009$AGERFRI2<-revalue(as.factor(All2009$AGERFRI2),c("1"="<TwoYears","2"="2-4Years","3"="5-9Years","41"="10-14Years","42"="15-19Years","5"=">20Years"))

summary(All2009$AGERFRI2)

#ESFRIG2

All2009$ESFRIG2[All2009$ESFRIG2==-2]<-NA
All2009$ESFRIG2[All2009$ESFRIG2==-8]<-NA
All2009$ESFRIG2[All2009$ESFRIG2==-9]<-NA

All2009$ESFRIG2<-revalue(as.factor(All2009$ESFRIG2),c("0"="NO","1"="YES"))

summary(All2009$ESFRIG2)

#SEPFREEZ

All2009$SEPFREEZ<-revalue(as.factor(All2009$SEPFREEZ),c("0"="NO","1"="YES"))

summary(All2009$SEPFREEZ)

#NUMFREEZ

All2009$NUMFREEZ[All2009$NUMFREEZ==-2]<-NA

All2009$NUMFREEZ<-revalue(as.factor(All2009$NUMFREEZ),c("1"="One","2"="Two","3"="Three"))

summary(All2009$NUMFREEZ)

#UPRTFRZR

All2009$UPRTFRZR[All2009$UPRTFRZR==-2]<-NA

All2009$UPRTFRZR<-revalue(as.factor(All2009$UPRTFRZR),c("1"="Upright","2"="Chest"))

summary(All2009$UPRTFRZR)

#SIZFREEZ

All2009$SIZFREEZ[All2009$SIZFREEZ==-2]<-NA

All2009$SIZFREEZ<-revalue(as.factor(All2009$SIZFREEZ),c("1"="Small","2"="Medium","3"="Large","4"="VeryLarge"))

summary(All2009$SIZFREEZ)

#REPLCFRZ

All2009$REPLCFRZ[All2009$REPLCFRZ==-2]<-NA
All2009$REPLCFRZ[All2009$REPLCFRZ==-8]<-NA
All2009$REPLCFRZ[All2009$REPLCFRZ==-9]<-NA

All2009$REPLCFRZ<-revalue(as.factor(All2009$REPLCFRZ),c("0"="NO","1"="YES"))

summary(All2009$REPLCFRZ)

#UPRTFRZR2

All2009$UPRTFRZR2[All2009$UPRTFRZR2==-2]<-NA

All2009$UPRTFRZR2<-revalue(as.factor(All2009$UPRTFRZR2),c("1"="Upright","2"="Chest"))

summary(All2009$UPRTFRZR2)

#SIZFREEZ2

All2009$SIZFREEZ2[All2009$SIZFREEZ2==-2]<-NA

All2009$SIZFREEZ2<-revalue(as.factor(All2009$SIZFREEZ2),c("1"="Small","2"="Medium","3"="Large","4"="VeryLarge"))

summary(All2009$SIZFREEZ2)

#AGEFRZR2

All2009$AGEFRZR2[All2009$AGEFRZR2==-2]<-NA

All2009$AGEFRZR2<-revalue(as.factor(All2009$AGEFRZR2),c("1"="<TwoYears","2"="2-4Years","3"="5-9Years","41"="10-14Years","42"="15-19Years","5"=">20Years"))

summary(All2009$AGEFRZR2)

#DISHWASH

All2009$DISHWASH<-revalue(as.factor(All2009$DISHWASH),c("0"="NO","1"="YES"))

summary(All2009$DISHWASH)

#DWASHUSE

All2009$DWASHUSE[All2009$DWASHUSE==-2]<-NA

All2009$DWASHUSE<-revalue(as.factor(All2009$DWASHUSE),c("11"="<Once/Week","12"="Once/Week","13"="2-3/Week","20"="4-6/Week","30"=">=Once/Day"))

summary(All2009$DWASHUSE)

#AGEDW

All2009$AGEDW[All2009$AGEDW==-2]<-NA

All2009$AGEDW<-revalue(as.factor(All2009$AGEDW),c("1"="<TwoYears","2"="2-4Years","3"="5-9Years","41"="10-14Years","42"="15-19Years","5"=">20Years"))

summary(All2009$AGEDW)

#ESDISHW

All2009$ESDISHW[All2009$ESDISHW==-2]<-NA
All2009$ESDISHW[All2009$ESDISHW==-8]<-NA
All2009$ESDISHW[All2009$ESDISHW==-9]<-NA

All2009$ESDISHW<-revalue(as.factor(All2009$ESDISHW),c("0"="NO","1"="YES"))

summary(All2009$ESDISHW)

#REPLCDW

All2009$REPLCDW[All2009$REPLCDW==-2]<-NA
All2009$REPLCDW[All2009$REPLCDW==-8]<-NA
All2009$REPLCDW[All2009$REPLCDW==-9]<-NA

All2009$REPLCDW<-revalue(as.factor(All2009$REPLCDW),c("0"="NO","1"="YES"))

summary(All2009$REPLCDW)

#CWASHER

All2009$CWASHER<-revalue(as.factor(All2009$CWASHER),c("0"="NO","1"="YES"))

summary(All2009$CWASHER)

#TOPFRONT

All2009$TOPFRONT[All2009$TOPFRONT==-2]<-NA

All2009$TOPFRONT<-revalue(as.factor(All2009$TOPFRONT),c("1"="TopLoad","2"="FrontLoad"))

summary(All2009$TOPFRONT)

#WASHLOAD

All2009$WASHLOAD[All2009$WASHLOAD==-2]<-NA

All2009$WASHLOAD<-revalue(as.factor(All2009$WASHLOAD),c("1"="<=One/Week","2"="2-4/Week","3"="5-9/Week","4"="10-14/Week","5"=">15/Week"))

summary(All2009$WASHLOAD)

#WASHTEMP

All2009$WASHTEMP[All2009$WASHTEMP==-2]<-NA

All2009$WASHTEMP<-revalue(as.factor(All2009$WASHTEMP),c("1"="Hot","2"="Warm","3"="Cold"))

summary(All2009$WASHTEMP)

#RNSETEMP

All2009$RNSETEMP[All2009$RNSETEMP==-2]<-NA

All2009$RNSETEMP<-revalue(as.factor(All2009$RNSETEMP),c("1"="Hot","2"="Warm","3"="Cold"))

summary(All2009$RNSETEMP)

#AGECWASH

All2009$AGECWASH[All2009$AGECWASH==-2]<-NA

All2009$AGECWASH<-revalue(as.factor(All2009$AGECWASH),c("1"="<TwoYears","2"="2-4Years","3"="5-9Years","41"="10-14Years","42"="15-19Years","5"=">20Years"))

summary(All2009$AGECWASH)

#ESCWASH

All2009$ESCWASH[All2009$ESCWASH==-2]<-NA
All2009$ESCWASH[All2009$ESCWASH==-8]<-NA
All2009$ESCWASH[All2009$ESCWASH==-9]<-NA

All2009$ESCWASH<-revalue(as.factor(All2009$ESCWASH),c("0"="NO","1"="YES"))

summary(All2009$ESCWASH)

#DRYER

All2009$DRYER<-revalue(as.factor(All2009$DRYER),c("0"="NO","1"="YES"))

summary(All2009$DRYER)

#DRYERFUEL

All2009$DRYRFUEL[All2009$DRYRFUEL==-2]<-NA

All2009$DRYRFUEL<-revalue(as.factor(All2009$DRYRFUEL),c("1"="NaturalGas","2"="Propane/LPG","5"="Electrcity"))

summary(All2009$DRYRFUEL)

#DRYERUSE

All2009$DRYRUSE[All2009$DRYRUSE==-2]<-NA

All2009$DRYRUSE<-revalue(as.factor(All2009$DRYRUSE),c("1"="EveryWash","2"="Sometimes/Wash","3"="InfrequentUse"))

summary(All2009$DRYRUSE)

#AGECDRYER

All2009$AGECDRYER[All2009$AGECDRYER==-2]<-NA

All2009$AGECDRYER<-revalue(as.factor(All2009$AGECDRYER),c("1"="<TwoYears","2"="2-4Years","3"="5-9Years","41"="10-14Years","42"="15-19Years","5"=">20Years"))

summary(All2009$AGECDRYER)

#TVCOLOR

table(All2009$TVCOLOR)

All2009$TVCOLOR<-revalue(as.factor(All2009$TVCOLOR),c("0"="NoTV","1"="OneTV","2"="TwoTVs","3"="ThreeTVs","4"="FourTVs","5"="FiveTVs","6"="SixTvs","7"="SevenTvs","8"="EightTvs","9"="NineTvs","10"="TenTvs","12"="TwelveTvs","14"="FourteenTvs"))

summary(All2009$TVCOLOR)

#TVSIZE

All2009$TVSIZE1[All2009$TVSIZE1==-2]<-NA

All2009$TVSIZE1<-revalue(as.factor(All2009$TVSIZE1),c("1"="<=20inch","2"="21-26inch","3"=">=37inch"))

summary(All2009$TVSIZE1)


```{r}

#TVTYPE1

All2009$TVTYPE1[All2009$TVTYPE1==-2]<-NA

All2009$TVTYPE1<-recode(All2009$TVTYPE1,c("1"="StandardTube","2"="LCD","3"="Plasma","4"="Projection","5"="LED"))

summary(All2009$TVTYPE1)

#CABLESAT1

All2009$CABLESAT1[All2009$CABLESAT1==-2]<-NA

All2009$CABLESAT1<-recode(All2009$CABLESAT1,c("0"="Neither","1"="CableBox","2"="SatelliteBox"))

summary(All2009$CABLESAT1)   

#COMBODVR1

All2009$COMBODVR1[All2009$COMBODVR1==-2]<-NA

All2009$COMBODVR1<-recode(All2009$COMBODVR1,c("0"="NO","1"="YES"))

summary(All2009$COMBODVR1)

#DVR1

All2009$DVR1[All2009$DVR1==-2]<-NA

All2009$DVR1<-recode(All2009$DVR1,c("0"="NO","1"="YES"))

summary(All2009$DVR1)

#DIGITSTB1

All2009$DIGITSTB1[All2009$DIGITSTB1==-2]<-NA

All2009$DIGITSTB1<-recode(All2009$DIGITSTB1,c("0"="NO","1"="YES"))

summary(All2009$DIGITSTB1)

#PLAYSTA1

All2009$PLAYSTA1[All2009$PLAYSTA1==-2]<-NA

All2009$PLAYSTA1<-recode(All2009$PLAYSTA1,c("0"="NO","1"="YES"))

summary(All2009$PLAYSTA1)

#COMBOVCRDVD1

All2009$COMBOVCRDVD1[All2009$COMBOVCRDVD1==-2]<-NA

All2009$COMBOVCRDVD1<-recode(All2009$COMBOVCRDVD1,c("0"="NO","1"="YES"))

summary(All2009$COMBOVCRDVD1)

#VCR1 

All2009$VCR1[All2009$VCR1==-2]<-NA

All2009$VCR1<-recode(All2009$VCR1,c("0"="NO","1"="YES"))

summary(All2009$VCR1)

#DVD1

All2009$DVD1[All2009$DVD1==-2]<-NA

All2009$DVD1<-recode(All2009$DVD1,c("0"="NO","1"="YES"))

summary(All2009$DVD1)

#TVAUDIOSYS1

All2009$TVAUDIOSYS1[All2009$TVAUDIOSYS1==-2]<-NA

All2009$TVAUDIOSYS1<-recode(All2009$TVAUDIOSYS1,c("0"="NO","1"="YES"))

summary(All2009$TVAUDIOSYS1)

#OTHERSTB1

All2009$OTHERSTB1<-recode(All2009$OTHERSTB1,c("0"="NO","1"="YES","-2"=NA))

summary(All2009$OTHERSTB1)

#TVONWD1

All2009$TVONWD1<-recode(All2009$TVONWD1,c("1"="LTOneHour","2"="1To3Hours","3"="3to6Hours","4"="6to10Hours","5"="GT5Hours","-2"=NA))

summary(All2009$TVONWD1)



```


```{r}

#TVONWDWATCH1 (Most used TV weekdays, on videogames)

All2009$TVONWDWATCH1<-recode(All2009$TVONWDWATCH1,c("0"="None","1"="All","2"="Most","3"="Half","4"="Little","-2"=NA))

summary(All2009$TVONWDWATCH1)

#TVONWE1

All2009$TVONWE1<-recode(All2009$TVONWE1,c("1"="LTOneHour","2"="1To3Hours","3"="3to6Hours","4"="6to10Hours","5"="GT5Hours","-2"=NA))

summary(All2009$TVONWE1)

#TVONWEWATCH1

All2009$TVONWEWATCH1<-recode(All2009$TVONWEWATCH1,c("0"="None","1"="All","2"="Most","3"="Half","4"="Little","-2"=NA))

summary(All2009$TVONWEWATCH1)

#TVSIZE2

All2009$TVSIZE2<-recode(All2009$TVSIZE2,c("1"="LT20inch","2"="21to26inch","3"="GT37inch","-2"=NA))

summary(All2009$TVSIZE2)

#TVTYPE2

All2009$TVTYPE2<-recode(All2009$TVTYPE2,c("1"="StandardTube","2"="LCD","3"="Plasma","4"="Projection","5"="LED","-2"=NA))

summary(All2009$TVTYPE2)

#CABLESAT2

All2009$CABLESAT2<-recode(All2009$CABLESAT2,c("0"="Neither","1"="CableBox","2"="SatelliteBox","-2"=NA))

summary(All2009$CABLESAT2) 

#COMBODVR2

All2009$COMBODVR2<-recode(All2009$COMBODVR2,c("0"="NO","1"="YES","-2"=NA))

summary(All2009$COMBODVR2)

#DVR2

All2009$DVR2<-recode(All2009$DVR2,c("0"="NO","1"="YES","-2"=NA))

summary(All2009$DVR2)

#DIGITSTB2

All2009$DIGITSTB2<-recode(All2009$DIGITSTB2,c("0"="NO","1"="YES","-2"=NA))

summary(All2009$DIGITSTB2)

#PLAYSTA2

All2009$PLAYSTA2<-recode(All2009$PLAYSTA2,c("0"="NO","1"="YES"))

summary(All2009$PLAYSTA2)

#COMBOVCRDVD2

All2009$COMBOVCRDVD2<-recode(All2009$COMBOVCRDVD2,c("0"="NO","1"="YES","-2"=NA))

summary(All2009$COMBOVCRDVD2)

#VCR2

All2009$VCR2<-recode(All2009$VCR2,c("0"="NO","1"="YES","-2"=NA))

summary(All2009$VCR2)

#DVD2

All2009$DVD2<-recode(All2009$DVD2,c("0"="NO","1"="YES","-2",NA))

summary(All2009$DVD2)

#TVAUDIOSYS2

All2009$TVAUDIOSYS2<-recode(All2009$TVAUDIOSYS2,c("0"="NO","1"="YES","-2"=NA))

summary(All2009$TVAUDIOSYS2)

#OTHERSTB2

All2009$OTHERSTB2<-recode(All2009$OTHERSTB2,c("0"="NO","1"="YES","-2"=NA))

summary(All2009$OTHERSTB2)

#TVONWD2

All2009$TVONWD2<-recode(All2009$TVONWD2,c("1"="LTOneHour","2"="1To3Hours","3"="3to6Hours","4"="6to10Hours","5"="GT5Hours","-2"=NA))

summary(All2009$TVONWD2)

#TVONWDWATCH2

All2009$TVONWDWATCH2<-recode(All2009$TVONWDWATCH2,c("0"="None","1"="All","2"="Most","3"="Half","4"="Little","-2"=NA))

summary(All2009$TVONWDWATCH2)

#TVONWE2

All2009$TVONWE2<-recode(All2009$TVONWE2,c("1"="LTOneHour","2"="1To3Hours","3"="3to6Hours","4"="6to10Hours","5"="GT5Hours","-2"=NA))

summary(All2009$TVONWE2)

#TVONWEWATCH2

All2009$TVONWEWATCH2<-recode(All2009$TVONWEWATCH2,c("0"="None","1"="All","2"="Most","3"="Half","4"="Little","-2"=NA))

summary(All2009$TVONWEWATCH2)

#NUMPC

table(All2009$NUMPC)

All2009$NUMPC<-recode(All2009$NUMPC,c("0"="None","1"="OnePC","2"="TwoPC","3"="ThreePC","4"="FourPC","5"="FivePC","6"="SixPC","7"="SevenPC","8"="EightPC","9"="NinePC","10"="TenPC","15"="FifteenPC"))

summary(All2009$NUMPC)





```





                                                    

```








Now identify those that are clearly TF binary.  First look for those with only two codes

```{r}
NumberOfCodes<-apply(All2009[Cols2009$V1],MARGIN=2, FUN=function(x) length(table(x)))


OnlyTwoCodes<-names(NumberOfCodes[NumberOfCodes==2])
summary(All2009[OnlyTwoCodes])
```
Looking throught that list for things that are not TF and deleteing them from the list and recode the remaining ones to TF

```{r}
# Only one is UR.  Remove from the list.

OnlyTwoCodes<-OnlyTwoCodes[OnlyTwoCodes!="UR"]

#UR looks like it is coded
summary(All2009$UR)
Cols2009$Status[Cols2009$V1=="UR"]<-"Coded"

source("RECSHelper.R")

All2009[OnlyTwoCodes]<-apply(All2009[OnlyTwoCodes],MARGIN=2, FUN=function(x) to.TF(x,na.choice="KEEP"))

summary(All2009[OnlyTwoCodes])

Cols2009[is.element(Cols2009$V1,OnlyTwoCodes),]$Status<-"Coded"
```

Fixed all those in one fell swoop.

Lets check the ones with three potential codes

```{r}
OnlyThreeCodes<-names(NumberOfCodes[NumberOfCodes==3])

summary(All2009[OnlyThreeCodes])
```
My hope is to spot those that are TF with missing.  Lets refine it so we only have numerical codes with a min of exactly -2 and a max of exactly 1.

```{r}
#Returns true if three codes with max of 1 and min of -2
FindTFWMissing<-function(x){
  ret<-FALSE
  if(length(table(x))==3 & max(x)==1 & min(x)==-2) ret<-TRUE;
  ret
}

#tests
FindTFWMissing(All2009$GARGCOOL)
FindTFWMissing(All2009$FREEZER2)
FindTFWMissing(All2009$BASEUSE)
summary(All2009$BASEUSE)

#Broken somehow
table(apply(data.frame(All2009$GARGCOOL,All2009$FREEZER2,All2009$BASEUSE   ),MARGIN = 2, FUN = function(x) FindTFWMissing(x)))

table(apply(data.frame(All2009),MARGIN = 2, FUN = function(x) FindTFWMissing(x)))


```


# RECS 2005

Look for analogous variables in RECS205layoutAllData.csv

# RECS 2001

Code books are broken up by data file.  codebook82001.txt is for publicuse82001.csv.

Look for variables analogous to the ones in the 2009 list. 


